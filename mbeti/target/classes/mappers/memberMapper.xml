<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="memberMapper">

	<!-- 회원가입 -->
	<insert id="register">
			INSERT INTO tbl_USER (mb, userName, userID, userEmail, userPassword, userBirthday, keyword1, keyword2, keyword3, keyword4, keyword5)
		VALUES (#{mb}, #{userName}, #{userID}, #{userEmail}, #{userPassword}, #{userBirthday}, #{keyword1}, #{keyword2}, #{keyword3}, #{keyword4}, #{keyword5})
	</insert>

	<!-- 로그인 -->
	<select id="login" resultType="com.mbeti.domain.MemberVO">
	SELECT userID, userPassword, userName
	  FROM tbl_USER
	 WHERE userID = #{userID}
	   AND userPassword = #{userPassword}   
	</select>

	<!-- 회원정보 수정 -->
	<update id="memberUpdate">
		UPDATE tbl_USER SET 
		userPassword = #{userPassword},
		userName = #{userName}
		WHERE userID = #{userID}
	</update>

	<!-- 회원탈퇴 -->
	<delete id="memberDelete">
		DELETE FROM tbl_USER
		WHERE userID = #{userID}
		  AND userPassword = #{userPassword} 
	</delete>
	
	<!-- 패스워드 체크 -->
	<select id="passChk" resultType="int">
		<!-- SELECT COUNT(*) FROM tbl_USER
		WHERE userID = #{userID}
		  AND userPassword = #{userPassword} -->
		  
		select count(case when userID=#{userID} and userPassword=#{userPassword} then 1 end)
		FROM tbl_USER;
	</select>
	
   
</mapper>